<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"> 
    <meta http-equiv="X-UA-Compatible" content="IE-edge">
    <meta name="viewport" content="with=device-width,  initial-scale=1.0">
    <title>Vallevice</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>   
<body data-barba="wrapper">

    <div class="load-container">
        <div class="loading-screen"></div>
    </div>
     
    <main data-barba="container" data-barba-namespace="index-section">
    <div id="preloader">
        <h1>
            <span>V</span>
            <span>a</span>
            <span>l</span>
            <span>l</span>
            <span>e</span>
            <span>v</span>
            <span>i</span>
            <span>c</span>
            <span>e</span>
        </h1>
        <p>No 1 Fashion Universe .</p>

        <div class="progress-bar" style="display:none ;">
            <div class="progress" style="display:none ;"></div>
        </div>

        <div class="enter">
            <div class="animate-this button">
                 <a href="Home.html" class=""><button>Enter Now</button></a>
            </div>
        </div>
    </div>

    </main>
     

 <script src="script.js"></script>

 <script src="https://code.jquery.com/jquery-3.6.1.min.js "></script>
 <script src="https://unpkg.com/@barba/core"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>



 <script>
    var percent = document.querySelector('.percent');
    var progress = document.querySelector('.progress');

    var count = 4;
    var per = 16;

    var loading = setInterval(animate, 50);
    function animate() {
        if(count== 100 & per == 400){
            percent.classList.add("text-blink")
            clearInterval(loading);
        }
        else{
            per = per + 4;
            count = count + 1;
            progress.style.width = per + "%";
            percent.textContent = count + "%";
        }
   }

   function delay(n) {
        n = n || 2000;
        return new Promise((done) => {
            setTimeout(() =>{
            done();
        }, n);       
        })     
    }


    function contentAnimation() {
        var tl = gsap.timeline();
        tl.from(".aniamte-this", { duration: 1, y: 30, opacity:0, stagger:0.4, delay:0.2 })
    }

    $(function() {
        barba.init({
            
            sync: true,

            transitions:[
                {
                    async leave(data){
                        const done = this.async();

                        pageTransition();

                        await delay(1000);
                        done();
                    },

                    async enter(data){
                        contentAnimation();
                    },

                    async once (data){
                        contentAnimation();
                    },
                }
            ]
        })

    })
 </script>




 
</body>  
</html>
